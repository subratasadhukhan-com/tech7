function upiTransactionIDField(){var t="";if("show_require"==upiwc_params.transaction_id&&(t='<span class="upiwc-required">*</span>'),"hide"!=upiwc_params.transaction_id){var e="upiwc-"+upiwc_params.app_theme+"-input";return'<form id="upiwc-form"><div class="upiwc-form-group"><label for="upiwc-transaction-number"><strong>'+upiwc_params.transaction_text+"</strong> "+t+'</label><div class="upiwc-clear-area"></div><input type="text" id="upiwc-transaction-number" class="'+e+'" placeholder="001422121258" maxlength="12" style="width: 70%;" onkeypress="return isNumber(event)" /></div><div class="upiwc-clear-area"></div></div>'}return""}function isNumber(t){t=t||window.event;var e=t.which?t.which:t.keyCode;return!(8!=e&&0!=e&&e>31&&(e<48||e>57))}(function(t){if("undefined"==typeof upiwc_params)return!1;1==upiwc_params.prevent_reload&&(window.onbeforeunload=function(){return"Are you sure you want to leave?"});var e=t("#data-qr-code"),a=encodeURI(e.data("link"));t("#upiwc-qrcode").length&&new QRCode("upiwc-qrcode",{text:a,width:e.data("width"),height:e.data("height"),correctLevel:QRCode.CorrectLevel.H,quietZone:6,onRenderingEnd:function(){t("#upiwc-confirm-payment").trigger("click")}}),t("#upiwc-cancel-payment").click(function(t){window.onbeforeunload=null,window.location.href=upiwc_params.cancel_url,t.preventDefault()}),t("#upiwc-confirm-payment").on("click",function(e){var a=t.confirm({title:'<span class="upiwc-popup-title">Scan this QR Code</span>',content:t("#js_qrcode").html(),useBootstrap:!1,theme:upiwc_params.app_theme,animation:"scale",type:t("#upiwc-confirm-payment").data("theme"),boxWidth:t("#data-dialog-box").data("pay"),draggable:!1,offsetBottom:t("#data-dialog-box").data("offset"),offsetTop:t("#data-dialog-box").data("offset"),buttons:{nextStep:{text:"Proceed to Next Step",btnClass:"btn-"+t("#upiwc-confirm-payment").data("theme"),keys:["enter","shift"],action:function(){return a.toggle(),t.confirm({title:'<span class="upiwc-popup-title">Confirm your Payment!</span>',content:upiTransactionIDField()+'<div id="upiwc-confirm-text" class="upiwc-confirm-text">'+upiwc_params.confirm_message+"</div>",useBootstrap:!1,theme:upiwc_params.app_theme,type:t("#upiwc-confirm-payment").data("theme"),boxWidth:t("#data-dialog-box").data("redirect"),draggable:!1,buttons:{confirm:{text:"Confirm",btnClass:"btn-"+t("#upiwc-confirm-payment").data("theme"),action:function(){var e=this.$content.find("#upiwc-transaction-number").val();if("show_require"==upiwc_params.transaction_id&&(""==e||e.length!=upiwc_params.tran_id_length))return t.alert({title:"Error!",content:'<div id="upiwc-error-text">Please enter a valid Transaction ID and try again.</div>',useBootstrap:!1,draggable:!1,theme:upiwc_params.app_theme,type:"red",boxWidth:t("#data-dialog-box").data("redirect")}),!1;window.onbeforeunload=null,t("#payment-success-container").html("<form method='POST' action='"+upiwc_params.callback_url+"' id='UPIJSCheckoutForm' style='display: none;'><input type='hidden' name='wc_order_id' value='"+upiwc_params.orderid+"'><input type='hidden' name='wc_order_key' value='"+upiwc_params.order_key+"'><input type='hidden' name='wc_transaction_id' value='"+e+"'></form>"),t.dialog({title:'<span class="upiwc-popup-title">Processing!<span>',content:'<div id="upiwc-confirm-text" class="upiwc-confirm-text">'+upiwc_params.processing_text+"</div>",useBootstrap:!1,draggable:!1,theme:upiwc_params.app_theme,type:"blue",closeIcon:!1,offsetBottom:t("#data-dialog-box").data("offset"),offsetTop:t("#data-dialog-box").data("offset"),boxWidth:t("#data-dialog-box").data("redirect")}),t("#UPIJSCheckoutForm").submit()}},goBack:{text:"Go Back",action:function(){a.toggle()}}}}),!1}},close:function(){t("#upiwc-processing").hide(),t(".upiwc-buttons").fadeIn("slow"),t(".upiwc-waiting-text").text("Please click the Pay Now button below to complete the payment against this order.")}}});t("#upiwc-processing").show(),t(".upiwc-buttons").hide(),t(".upiwc-waiting-text").text("Please wait and don't press back or refresh this page while we are processing your payment..."),e.preventDefault()})})(jQuery);